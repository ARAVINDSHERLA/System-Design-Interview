* Slack CheatSheet                                                     :Tools:
:PROPERTIES:
:type:     tool
:export_file_name: cheatsheet-slack-A4.pdf
:END:

#+BEGIN_HTML
<a href="https://github.com/dennyzhang/cheatsheet.dennyzhang.com/tree/master/cheatsheet-slack-A4"><img align="right" width="200" height="183" src="https://www.dennyzhang.com/wp-content/uploads/denny/watermark/github.png" /></a>
<div id="the whole thing" style="overflow: hidden;">
<div style="float: left; padding: 5px"> <a href="https://www.linkedin.com/in/dennyzhang001"><img src="https://www.dennyzhang.com/wp-content/uploads/sns/linkedin.png" alt="linkedin" /></a></div>
<div style="float: left; padding: 5px"><a href="https://github.com/dennyzhang"><img src="https://www.dennyzhang.com/wp-content/uploads/sns/github.png" alt="github" /></a></div>
<div style="float: left; padding: 5px"><a href="https://www.dennyzhang.com/slack" target="_blank" rel="nofollow"><img src="https://www.dennyzhang.com/wp-content/uploads/sns/slack.png" alt="slack"/></a></div>
</div>

<br/><br/>
<a href="http://makeapullrequest.com" target="_blank" rel="nofollow"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg" alt="PRs Welcome"/></a>
#+END_HTML

- PDF Link: [[https://github.com/dennyzhang/cheatsheet.dennyzhang.com/blob/master/cheatsheet-slack-A4/cheatsheet-slack-A4.pdf][cheatsheet-slack-A4.pdf]], Category: [[https://cheatsheet.dennyzhang.com/category/tools/][tools]]
- Blog URL: https://cheatsheet.dennyzhang.com/cheatsheet-slack-A4
- Related posts: [[https://cheatsheet.dennyzhang.com/cheatsheet-tmux-A4][CheatSheet Tmux/Tmate]], [[https://github.com/topics/denny-cheatsheets][#denny-cheatsheets]]

File me [[https://github.com/dennyzhang/cheatsheet.dennyzhang.com/issues][Issues]] or star [[https://github.com/dennyzhang/cheatsheet.dennyzhang.com][this repo]].
** Basic
| Name                         | Summary                                                     |
|------------------------------+-------------------------------------------------------------|
| Slack keyboard shortcuts     | =Ctrl+/=, [[https://get.slack.help/hc/en-us/articles/201374536-Slack-keyboard-shortcuts][Official Slack Link: shortcuts]]                    |
| Jump to channel or person    | =Ctrl+T=                                                    |
| Move to next unread messages | =Alt+Shift+Arrow=                                           |
| Delete a channel             | =Additional Options -> Archive or Delete=                   |
| [[https://slack.com/help/articles/212906697-Create-a-user-group][Create a slack user group]]    | -> More Items menu in the top right -> select "User Groups" |
** Reminders
| Name                         | Summary                                 |
|------------------------------+-----------------------------------------|
| Create a reminder for myself | =/remind @me some message tomorrow 9am= |
| Reference                    | [[https://get.slack.help/hc/en-us/articles/208423427-Set-a-reminder][Link: Set a reminder]]                    |
** More Resources
https://devdactic.com/slack-cheat-sheet/

https://blog.hubspot.com/marketing/slack-tips

https://www.shortcutfoo.com/app/dojos/slack-win/cheatsheet

https://docsend.com/view/h5jamr6

License: Code is licensed under [[https://www.dennyzhang.com/wp-content/mit_license.txt][MIT License]].
#+BEGIN_HTML
<a href="https://cheatsheet.dennyzhang.com"><img align="right" width="201" height="268" src="https://raw.githubusercontent.com/USDevOps/mywechat-slack-group/master/images/denny_201706.png"></a>
<a href="https://cheatsheet.dennyzhang.com"><img align="right" src="https://raw.githubusercontent.com/dennyzhang/cheatsheet.dennyzhang.com/master/images/cheatsheet_dns.png"></a>

<a href="https://www.linkedin.com/in/dennyzhang001"><img align="bottom" src="https://www.dennyzhang.com/wp-content/uploads/sns/linkedin.png" alt="linkedin" /></a>
<a href="https://github.com/dennyzhang"><img align="bottom"src="https://www.dennyzhang.com/wp-content/uploads/sns/github.png" alt="github" /></a>
<a href="https://www.dennyzhang.com/slack" target="_blank" rel="nofollow"><img align="bottom" src="https://www.dennyzhang.com/wp-content/uploads/sns/slack.png" alt="slack"/></a>
#+END_HTML
* org-mode configuration                                           :noexport:
#+STARTUP: overview customtime noalign logdone showall
#+DESCRIPTION: 
#+KEYWORDS: 
#+LATEX_HEADER: \usepackage[margin=0.6in]{geometry}
#+LaTeX_CLASS_OPTIONS: [8pt]
#+LATEX_HEADER: \usepackage[english]{babel}
#+LATEX_HEADER: \usepackage{lastpage}
#+LATEX_HEADER: \usepackage{fancyhdr}
#+LATEX_HEADER: \pagestyle{fancy}
#+LATEX_HEADER: \fancyhf{}
#+LATEX_HEADER: \rhead{Updated: \today}
#+LATEX_HEADER: \rfoot{\thepage\ of \pageref{LastPage}}
#+LATEX_HEADER: \lfoot{\href{https://github.com/dennyzhang/cheatsheet.dennyzhang.com/tree/master/cheatsheet-slack-A4}{GitHub: https://github.com/dennyzhang/cheatsheet.dennyzhang.com/tree/master/cheatsheet-slack-A4}}
#+LATEX_HEADER: \lhead{\href{https://cheatsheet.dennyzhang.com/cheatsheet-slack-A4}{Blog URL: https://cheatsheet.dennyzhang.com/cheatsheet-slack-A4}}
#+AUTHOR: Denny Zhang
#+EMAIL:  denny@dennyzhang.com
#+TAGS: noexport(n)
#+PRIORITIES: A D C
#+OPTIONS:   H:3 num:t toc:nil \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t
#+OPTIONS:   TeX:t LaTeX:nil skip:nil d:nil todo:t pri:nil tags:not-in-toc
#+EXPORT_EXCLUDE_TAGS: exclude noexport
#+SEQ_TODO: TODO HALF ASSIGN | DONE BYPASS DELEGATE CANCELED DEFERRED
#+LINK_UP:   
#+LINK_HOME: 
* Move to next unread channel                                      :noexport:
https://get.slack.help/hc/en-us/articles/217626598-Get-around-faster-with-keyboard-shortcuts
* TODO improve slack reminders                                     :noexport:
* TODO add slack integration                                       :noexport:
* TODO install slack robots                                        :noexport:
* [#A] Slack: Team Communication & Better Integration              :noexport:
** basic use
Make all of the work and conversations seamlessly available in one place.
** DONE [#A] DigitalOcean Slack: list #fd-metric
   CLOSED: [2016-12-24 Sat 19:31]
http://jerrygamblin.com/2016/12/22/digital-ocean-slack-bot/
*** DONE list all VMs                                              :noexport:
    CLOSED: [2016-12-24 Sat 19:31]
https://developers.digitalocean.com/documentation/v2/
curl -X GET -H "Content-Type: application/json" -H "Authorization: Bearer 9377c207f667271e2d12af2d67ff2f11e5b045a9677a756a0e150bb3562c6773" "https://api.digitalocean.com/v2/droplets?page=1&per_page=1"
*** bash                                                           :noexport:
#+BEGIN_SRC sh
#!/bin/bash

DIGITALOCEAN_TOKEN=XXX
SLACK_TOKEN=XXX
#SLACK_CHANNEL=slack_nagios_test
SLACK_CHANNEL=fd-metric
MAX_DROPLETS_COUNT=500

tmp_fname="Digitalocean_Cost_For_All_Droplets.txt"
cd /tmp/
curl -sXGET "https://api.digitalocean.com/v2/droplets?page=1&per_page=$MAX_DROPLETS_COUNT" \
       -H "Authorization: Bearer $DIGITALOCEAN_TOKEN" \
       -H "Content-Type: application/json" |\
       python -c 'import sys,json;data=json.loads(sys.stdin.read());\
                  print "ID\tName\tIP\tPrice\n";\
                  print "\n".join(["%s\t%s\t%s\t$%s"%(d["id"],d["name"],d["networks"]["v4"][0]["ip_address"],d["size"]["price_monthly"])\
                  for d in data["droplets"]])'| column -t > $tmp_fname

curl -F file=@$tmp_fname -F initial_comment="Cost Breakdown For All Running Droplets" -F channels=#$SLACK_CHANNEL -F token=$SLACK_TOKEN https://slack.com/api/files.upload

rm /tmp/$tmp_fname
#+END_SRC
** #  --8<-------------------------- separator ------------------------>8--
** DONE slack send message                                         :noexport:
   CLOSED: [2017-01-05 Thu 14:04]
https://api.slack.com/methods/chat.postMessage

https://api.slack.com/bot-users

curl -X POST -d "username=AutoScaling&token=xoxb-XXX&channel=#fd-alerts&text=hello, world" https://slack.com/api/chat.postMessage

https://api.slack.com/methods/files.upload

curl -F file=@dramacat.gif -F channels=C024BE91L,#general -F token=xxxx-xxxxxxxxx-xxxx https://slack.com/api/files.upload
** DONE slack funny aninmation: gif
   CLOSED: [2017-03-03 Fri 10:14]
https://www.tumblr.com/search/bug

dennyzhang [10:14 AM]
Add a funny integration: type /giphy XXX, you will know.

Say /giphy happy, /giphy sad, etc.


giphy APP [10:14 AM] Only visible to you
happy (544KB)
** #  --8<-------------------------- separator ------------------------>8--
** DONE slack: /remind list
   CLOSED: [2017-05-10 Wed 11:57]
** DONE slack: /remind me in 3 months to check Bruno's ip
   CLOSED: [2017-04-18 Tue 20:58]
** DONE slack avoid http link: https://soterianetworks.slack.com/archives/C1C3Z6GRX/p1495836192555388
   CLOSED: [2017-05-30 Tue 11:44]
https://stackoverflow.com/questions/36294962/slack-markdown-for-links-are-not-resolving
https://get.slack.help/hc/en-us/articles/204399343-Share-links-in-Slack
#+BEGIN_EXAMPLE
dennyzhang
[10:25 AM]
Morning @brandon.chen & @ozgur.v.amac, could we grant me the slack admin access?

Whenever we post a bitbucket link, slack will generate a preview.

But slack doesn't bitbucket access, it will generate a dummy thumb which makes no sense to us.

I'd like to either grant slack bitbucket access or turn off slack link previews
https://get.slack.help/hc/en-us/articles/204399343-Share-links-in-Slack
#+END_EXAMPLE
** DONE slack curl send message
   CLOSED: [2017-06-05 Mon 13:43]
https://api.slack.com/incoming-webhooks
#+BEGIN_SRC sh
#!/bin/bash -ex
text_msg="@channel Weekly Progress Meeting: https://plus.google.com/hangouts/_/soterianetworks.com/ozgur-amac"
slack_channel="#junkbox"

slack_incoming_url="https://hooks.slack.com/services/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"
escaped_text_msg=$(echo "$text_msg" | sed 's/"/\"/g' | sed "s/'/\'/g")

curl -X POST \
     -H 'Content-type: application/json' \
     --data "{\"text\": \"$escaped_text_msg\", \"channel\": \"$slack_channel\", \"link_names\": 1, \"username\": \"Robot-Reminder\", \"icon_emoji\": \":monkey_face:\"}" \
     "$slack_incoming_url"
#+END_SRC
** DONE Send weekly reminder by slack.
   CLOSED: [2017-07-08 Sat 16:16]
https://get.slack.help/hc/en-us/articles/208423427-Setting-reminders
remind #internal-jenkins-ci "It's time to run test" at 6PM every Monday.

/remind me every weekday at 2pm to take a coffee break

/remind help
/remind list

/remind me on June 1st to wish Linda happy birthday
** DONE slack create or upload an existing file
   CLOSED: [2017-07-26 Wed 17:13]
https://api.slack.com/methods/files.upload

curl -F file=@dramacat.gif -F channels=C024BE91L,#general -F token=xxxx-xxxxxxxxx-xxxx https://slack.com/api/files.upload
** DONE Slack text animation: https://github.com/mroth/slacknimate
   CLOSED: [2017-09-13 Wed 08:30]
slack_token="xoxp-XXX"
slacknimate --api-token "$slack_token" --channel "#junk" --loop< examples/moon.txt
*** Good morning
cd /Users/mac/Dropbox/private_data/project/devops_consultant/consultant_code/old_github_repos/slacknimate
slacknimate --api-token "$slack_token" --channel "#junk" --loop< examples/moon.txt
*** text message
slacknimate --api-token "$slack_token" --channel "#junk" --loop< examples/sample.txt
**** sample2
#+BEGIN_EXAMPLE
good
night
see
you
guys
tomorrow
!
#+END_EXAMPLE
*** Good night
slacknimate --api-token "$slack_token" --channel "#junk" --loop< examples/nyan.txt
** DONE python send slack notification
   CLOSED: [2017-10-16 Mon 19:43]
https://github.com/slackapi/python-slackclient

from slackclient import SlackClient

slack_token = os.environ["SLACK_API_TOKEN"]
sc = SlackClient(slack_token)

sc.api_call(
  "chat.postMessage",
  channel="#python",
  text="Hello from Python! :tada:"
)

* TODO slack: configure it to be offline for non-business hours    :noexport:
* TODO slack create a reminder for every Saturday of each month    :noexport:
* TODO Create mind every 3 month                                   :noexport:
/remind @DennyZhang endorse people’s help every 3 months
